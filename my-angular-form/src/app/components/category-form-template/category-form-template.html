<div class="form-container">
  <p class="title">{{title}}</p>
  <form [formGroup]="categoryForm"
        (ngSubmit)="formSubmit.emit(categoryForm)"
        class="form"
  >
    <div class="input-group">
      <label for="username">Назва категорії</label>
      <input type="text"
             id="title"
             formControlName="title"
             placeholder="">
      <ul *ngIf="categoryForm.get('title')?.errors as errors">
        <li *ngFor="let error of errors | keyvalue" class="text-danger">
          {{ error.value }}
        </li>
      </ul>

    </div>
    <div class="input-group">
      <label for="username">Слаг категорії</label>
      <input type="text"
             id="urlSlug"
             formControlName="urlSlug"
             placeholder="">
      <ul *ngIf="categoryForm.get('urlSlug')?.errors as errors">
        <li *ngFor="let error of errors | keyvalue" class="text-danger">
          {{ error.value }}
        </li>
      </ul>
    </div>

    <div class="input-group" style="justify-content: center">
      <label for="file" style="width: 100%">Фото категорії</label>
      <input id="file" type="file" (change)="onFileSelected($event)">

      <div *ngIf="imagePreview" class="image-wrapper" (click)="removeImage()">
        <img [src]="imagePreview" alt="Preview">
        <div class="overlay">
          <svg class="trash-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6l-2 14H7L5 6"></path>
            <path d="M10 11v6"></path>
            <path d="M14 11v6"></path>
          </svg>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="header"
           (dragover)="onDragOver($event)"
           (dragleave)="onDragLeave($event)"
           (drop)="onDrop($event)"
           [class.dragging]="isDragging">

        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
          <path d="M7 10V9C7 6.23858 9.23858 4 12 4C14.7614 4 17 6.23858 17 9V10C19.2091 10 21 11.7909 21 14C21 15.4806 20.1956 16.8084 19 17.5M7 10C4.79086 10 3 11.7909 3 14C3 15.4806 3.8044 16.8084 5 17.5M7 10C7.43285 10 7.84965 10.0688 8.24006 10.1959M12 12V21M12 12L15 15M12 12L9 15" stroke="#374151FF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg> <p>Перетащіть фотографію щоб завантажити</p>
      </div>
      <label for="file" class="footer">
        <p>Завантажити фото</p>
      </label>
      <input id="file"
             type="file"
             (change)="onFileSelected($event)">

      <div *ngIf="errorMessage" class="text-danger" style="margin-top: 8px;">
        {{ errorMessage }}
      </div>
    </div>

    <div class="input-group">
      <button type="submit" class="sign">Створити</button>
    </div>
  </form>
</div>
